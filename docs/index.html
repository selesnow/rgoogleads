<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Loading Data from Google Ads API • rgoogleads</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Loading Data from Google Ads API">
<meta property="og:description" content="Interface for loading data from Google Ads API, 
    see &lt;https://developers.google.com/google-ads/api/docs/start&gt;. 
    Package provide function for authorization and loading reports.">
<meta property="og:image" content="/reference/figures/rgoogleads.png">
<meta property="og:image:alt" content="Loading data from Google Ads">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114798296-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-114798296-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">rgoogleads</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/selesnow/rgoogleads/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="rgoogleads-r-package-for-work-with-google-ads-api-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#rgoogleads-r-package-for-work-with-google-ads-api-" class="anchor"></a>rgoogleads: R package for work with Google Ads API <a href="https://selesnow.github.io/rgoogleads/"><img src="reference/figures/rgoogleads.png" align="right" height="138.5"></a>
</h1></div>
<!-- badges: start -->

<div id="table-of-contents" class="section level2">
<h2 class="hasAnchor">
<a href="#table-of-contents" class="anchor"></a>Table of Contents</h2>
<ul>
<li><a href="#links">Links</a></li>
<li><a href="#install">Install</a></li>
<li><a href="#attach-rgoogleads">Attach rgoogleads</a></li>
<li><a href="#main-goal-and-capabilities-of-rgoogleads">Main goal and capabilities of rgoogleads</a></li>
<li>
<a href="#privacy-policy">Privacy Policy</a>
<ul>
<li><a href="#authorization-process">Authorization process</a></li>
<li><a href="#key-points">Key points</a></li>
<li><a href="#use-own-oauth-client">Use own OAuth client</a></li>
</ul>
</li>
<li><a href="#obtain-own-developer-token-and-create-own-oauth-client">Obtain Own Developer Token and create own OAuth client</a></li>
<li><a href="#example-of-use-rgoogleads">Example of use rgoogleads</a></li>
<li><a href="#package-help">Package help</a></li>
<li><a href="#package-chage-log-news-and-updates">Package chage log, news and updates</a></li>
<li><a href="#bug-report-and-support">Bug report and support</a></li>
<li><a href="#author">Author</a></li>
</ul>
</div>
<div id="links" class="section level2">
<h2 class="hasAnchor">
<a href="#links" class="anchor"></a>Links</h2>
<p>This section contains links to the package documentation, as well as other useful links that may be useful to the package users.</p>
<ul>
<li><a href="https://selesnow.github.io/rgoogleads/docs/">rgoogleads package documentation site</a></li>
<li><a href="https://cran.r-project.org/package=rgoogleads">CRAN page</a></li>
<li><a href="https://developers.google.com/google-ads/api/docs/start">Google Ads API documentation</a></li>
</ul>
</div>
<div id="install" class="section level2">
<h2 class="hasAnchor">
<a href="#install" class="anchor"></a>Install</h2>
<p>You can instal <code>rgoogleads</code> from <a href="https://cran.r-project.org/package=rgoogleads">CRAN</a> or <a href="https://github.com">GitHub</a>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install from CRAN</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">'rgoogleads'</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install from github</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">'selesnow/rgoogleads'</span><span class="op">)</span></code></pre></div>
</div>
<div id="attach-rgoogleads" class="section level2">
<h2 class="hasAnchor">
<a href="#attach-rgoogleads" class="anchor"></a>Attach rgoogleads</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://selesnow.github.io/rgoogleads/">rgoogleads</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="main-goal-and-capabilities-of-rgoogleads" class="section level2">
<h2 class="hasAnchor">
<a href="#main-goal-and-capabilities-of-rgoogleads" class="anchor"></a>Main goal and capabilities of rgoogleads</h2>
<p><code>rgoogleads</code> is R client for work with Google Ads API v8. Main goal of <code>rgoogleads</code> - load report data from Google Ads client account into R for analisys and visualizations.</p>
<p>Capabilities of <code>rgoogleads</code>:</p>
<ul>
<li>Authorization in the Google Ads API</li>
<li>Loading a list of top-level accounts</li>
<li>Loading the entire hierarchy of accounts from manager accounts</li>
<li>Loading list of Google Ads client account objects: campaigns, ad groups, ads, etc.</li>
<li>Loading statistics from Google Ads client account</li>
<li>Loading resource metadata, resource fields, segments and metrics</li>
<li>Loading forecast and historical metrics from Keyword Planning.</li>
</ul>
</div>
<div id="privacy-policy" class="section level2">
<h2 class="hasAnchor">
<a href="#privacy-policy" class="anchor"></a>Privacy Policy</h2>
<p>The <code>rgoogleads</code> package for authorization uses the <a href="https://gargle.r-lib.org/">gargle</a> package, the credentials obtained during authorization are stored exclusively on your local PC, you can find out the folder into which the credentials are cached using the <code><a href="reference/gads_auth_configure.html">gads_auth_cache_path()</a></code> function.</p>
<p>For loading data from Google Ads Account <code>rgoogleads</code> needs <code>https://www.googleapis.com/auth/adwords</code> scope (Manage Your Google AdWords Campaigns), see <a href="https://developers.google.com/google-ads/api/docs/oauth/internals#scope">official Google Ads API documentation</a>.</p>
<p>The package does not transfer your credentials or data obtained from your advertising accounts to third parties, however, the responsibility for information leakage remains on the side of the package user. The author does not bear any responsibility for their safety, be careful when transferring cached credentials to third parties.</p>
<p>For more details, I recommend that you read the following articles from the official documentation of the gargle package:</p>
<ul>
<li><a href="https://www.tidyverse.org/blog/2021/07/gargle-1-2-0/">Stewarding the cache of user tokens</a></li>
<li><a href="https://cran.r-project.org/package=gargle/vignettes/auth-from-web.html">Auth when using R in the browser</a></li>
<li><a href="https://cran.r-project.org/package=gargle/vignettes/how-gargle-gets-tokens.html">How gargle gets tokens</a></li>
</ul>
<div id="authorization-process" class="section level3">
<h3 class="hasAnchor">
<a href="#authorization-process" class="anchor"></a>Authorization process</h3>
<p>You run <code><a href="reference/gads_auth.html">gads_auth('me@gmail.com')</a></code> and start <a href="https://medium.com/typeforms-engineering-blog/the-beginners-guide-to-oauth-dancing-4b8f3666de10">OAuth Dance</a> in the browser:</p>
<p><img src="http://img.netpeak.ua/alsey/1OE9JZ2.png" alt="Typical OAuth dance in the browser, when initiated from within R"></p>
<p>Upon success, you see this message in the browser:</p>
<p><code>Authentication complete. Please close this page and return to R.</code></p>
<p>And you credentials cached locally on your PC in the form of RDS files.</p>
</div>
<div id="key-points" class="section level3">
<h3 class="hasAnchor">
<a href="#key-points" class="anchor"></a>Key points</h3>
<ul>
<li>By default, gargle caches user tokens centrally, at the user level, and their keys or labels also convey which Google identity is associated with each token.</li>
<li>Token storage relies on serialized R objects. That is, tokens are stored locally on your PC in the form of RDS files.</li>
</ul>
</div>
<div id="use-own-oauth-client" class="section level3">
<h3 class="hasAnchor">
<a href="#use-own-oauth-client" class="anchor"></a>Use own OAuth client</h3>
<p>You can use own OAuth app:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">app</span> <span class="op">&lt;-</span> <span class="fu">httr</span><span class="fu">::</span><span class="fu"><a href="https://httr.r-lib.org/reference/oauth_app.html">oauth_app</a></span><span class="op">(</span>appname <span class="op">=</span> <span class="st">"app name"</span>, key <span class="op">=</span> <span class="st">"app id"</span>, secret <span class="op">=</span> <span class="st">"app secret"</span><span class="op">)</span>
<span class="fu"><a href="reference/gads_auth_configure.html">gads_auth_configure</a></span><span class="op">(</span>app <span class="op">=</span> <span class="va">app</span><span class="op">)</span>

<span class="co"># or from json file </span>
<span class="fu"><a href="reference/gads_auth_configure.html">gads_auth_configure</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">'D:/ga_auth/app.json'</span><span class="op">)</span>

<span class="co"># run authorization</span>
<span class="fu"><a href="reference/gads_auth.html">gads_auth</a></span><span class="op">(</span><span class="st">'me@gmail.com'</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="obtain-own-developer-token-and-create-own-oauth-client" class="section level2">
<h2 class="hasAnchor">
<a href="#obtain-own-developer-token-and-create-own-oauth-client" class="anchor"></a>Obtain Own Developer Token and create own OAuth client</h2>
<p>For obtain own developer token and OAuth client read the following documentation:</p>
<ul>
<li><a href="https://developers.google.com/google-ads/api/docs/first-call/dev-token">Obtain Your Developer Token</a></li>
<li><a href="https://developers.google.com/google-ads/api/docs/first-call/oauth-cloud-project">Configure a Google API Console Project for the Google Ads API</a></li>
</ul>
</div>
<div id="example-of-use-rgoogleads" class="section level2">
<h2 class="hasAnchor">
<a href="#example-of-use-rgoogleads" class="anchor"></a>Example of use rgoogleads</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://selesnow.github.io/rgoogleads/">rgoogleads</a></span><span class="op">)</span>

<span class="co"># set own oauth app</span>
<span class="fu"><a href="reference/gads_auth_configure.html">gads_auth_configure</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">'C:/auth/app.json'</span><span class="op">)</span>
<span class="co"># set your developer token if needed, or use default developer token</span>
<span class="fu"><a href="reference/gads_auth.html">gads_auth</a></span><span class="op">(</span>email <span class="op">=</span> <span class="st">'me@gmail.com'</span>, developer_token <span class="op">=</span> <span class="st">"own developer token"</span><span class="op">)</span>

<span class="co"># get list of accessible accounts</span>
<span class="va">my_accounts</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/gads_get_accessible_customers.html">gads_get_accessible_customers</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># set manager account id (options)</span>
<span class="fu"><a href="reference/gads_set_login_customer_id.html">gads_set_login_customer_id</a></span><span class="op">(</span><span class="st">'xxx-xxx-xxxx'</span><span class="op">)</span>

<span class="co"># set client account id</span>
<span class="fu"><a href="reference/gads_set_customer_id.html">gads_set_customer_id</a></span><span class="op">(</span><span class="st">'xxx-xxx-xxxx'</span><span class="op">)</span>

<span class="co"># load report data</span>
<span class="va">ad_group_report</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/gads_get_report.html">gads_get_report</a></span><span class="op">(</span>
  resource    <span class="op">=</span> <span class="st">"ad_group"</span>,
  fields      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"ad_group.campaign"</span>,
                  <span class="st">"ad_group.id"</span>,
                  <span class="st">"ad_group.name"</span>,
                  <span class="st">"ad_group.status"</span>,
                  <span class="st">"metrics.clicks"</span>,
                  <span class="st">"metrics.cost_micros"</span><span class="op">)</span>,
  date_from   <span class="op">=</span> <span class="st">"2021-06-10"</span>,
  date_to     <span class="op">=</span> <span class="st">"2021-06-17"</span>,
  where       <span class="op">=</span> <span class="st">"ad_group.status = 'ENABLED'"</span>,
  order_by    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"metrics.clicks DESC"</span>, <span class="st">"metrics.cost_micros"</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
</div>
<div id="package-help" class="section level2">
<h2 class="hasAnchor">
<a href="#package-help" class="anchor"></a>Package help</h2>
<p>For get help of <code>rgoogleads</code> use <code><a href="reference/rgoogleads-package.html">?rgoogleads</a></code> or <code><a href="reference/gads_get_report.html">?gads_get_report</a></code>.</p>
</div>
<div id="package-chage-log-news-and-updates" class="section level2">
<h2 class="hasAnchor">
<a href="#package-chage-log-news-and-updates" class="anchor"></a>Package chage log, news and updates</h2>
<p>You can follow the package updates at the <a href="https://github.com/selesnow/rgoogleads/blob/master/NEWS.md">link</a>.</p>
</div>
<div id="bug-report-and-support" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-report-and-support" class="anchor"></a>Bug report and support</h2>
<p>If you encounter an error in the package, or you have suggestions for improving its functionality, you can create a issue using the <a href="https://github.com/selesnow/rgoogleads/issues">link</a>.</p>
</div>
<div id="author" class="section level2">
<h2 class="hasAnchor">
<a href="#author" class="anchor"></a>Author</h2>
<p>Alexey Seleznev, Head of analytics dept. at <a href="https://netpeak.net">Netpeak</a> <br>Telegram Channel: <a href="https://t.me/R4marketing">R4marketing</a> <br>email: <a href="mailto:selesnow@gmail.com" class="email">selesnow@gmail.com</a> <br>facebook: <a href="https://www.facebook.com/selesnow">facebook.com/selesnow</a> <br>blog: <a href="https://alexeyseleznev.wordpress.com/">alexeyseleznev.wordpress.com</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=rgoogleads">https://​cloud.r-project.org/​package=rgoogleads</a>
</li>
<li>Browse source code at <br><a href="https://github.com/selesnow/rgoogleads/">https://​github.com/​selesnow/​rgoogleads/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/selesnow/rgoogleads/issues">https://​github.com/​selesnow/​rgoogleads/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Alexey Seleznev <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-0410-7385" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=rgoogleads"><img src="https://cranlogs.r-pkg.org/badges/grand-total/rgoogleads"></a></li>
<li><a href="https://cran.r-project.org/package=rgoogleads"><img src="https://cranlogs.r-pkg.org/badges/rgoogleads?color=lightgrey"></a></li>
<li><a href="https://cran.r-project.org/package=rgoogleads"><img src="https://cranlogs.r-pkg.org/badges/last-week/rgoogleads?color=lightgrey"></a></li>
<li><a href="https://CRAN.R-project.org/package=rgoogleads"><img src="https://www.r-pkg.org/badges/version-ago/rgoogleads" alt="CRAN status"></a></li>
<li><a href="https://github.com/selesnow/rgoogleads/actions"><img src="https://github.com/selesnow/rgoogleads/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Alexey Seleznev.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
