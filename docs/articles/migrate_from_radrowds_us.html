<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Migrate from RAdwords to rgoogleads • rgoogleads</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Migrate from RAdwords to rgoogleads">
<meta property="og:description" content="rgoogleads">
<meta property="og:image" content="/reference/figures/rgoogleads.png">
<meta property="og:image:alt" content="Loading data from Google Ads">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114798296-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-114798296-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rgoogleads</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/migrate_from_radrowds_us.html">Migrate from RAdwords to rgoogleads</a>
    </li>
    <li>
      <a href="../articles/migrate_from_radwords_ru.html">Миграция с RAdwords на rgoogleads</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/selesnow/rgoogleads/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="migrate_from_radrowds_us_files/header-attrs-2.11/header-attrs.js"></script><script src="migrate_from_radrowds_us_files/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="migrate_from_radrowds_us_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="migrate_from_radrowds_us_files/datatables-binding-0.20/datatables.js"></script><script src="migrate_from_radrowds_us_files/jquery-3.6.0/jquery-3.6.0.min.js"></script><link href="migrate_from_radrowds_us_files/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="migrate_from_radrowds_us_files/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="migrate_from_radrowds_us_files/dt-core-1.11.3/js/jquery.dataTables.min.js"></script><link href="migrate_from_radrowds_us_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="migrate_from_radrowds_us_files/crosstalk-1.2.0/js/crosstalk.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Migrate from RAdwords to rgoogleads</h1>
                        <h4 class="author">Alexey Seleznev</h4>
            
            <h4 class="date">2021-11-16</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/selesnow/rgoogleads/blob/master/vignettes/migrate_from_radrowds_us.Rmd"><code>vignettes/migrate_from_radrowds_us.Rmd</code></a></small>
      <div class="hidden name"><code>migrate_from_radrowds_us.Rmd</code></div>

    </div>

    
    
<p>The problem is that the <code>RAdwords</code> package is used to work with Google AdWords API v201809. This API has not been updated for a long time and will stop working on 27 April 2022.</p>
<p>In this vignette, I want to share some information on a new package, rgoogleads, which I started working on in June 2021. The package currently has all the functions needed to request the function data. Next, we will go through the details of how to switch from RAdwords to rgoogleads, so that from April 2022, your scripts will still correctly collect the necessary data from your Google Ads accounts.</p>
<div id="rgoogleads-package-features" class="section level1">
<h1 class="hasAnchor">
<a href="#rgoogleads-package-features" class="anchor"></a>rgoogleads package features</h1>
<p>The rgoogleads package currently includes all the functions needed to fetch data from the Google Ads API:</p>
<ul>
<li>authorize in Google Ads API;</li>
<li>import the list of top-level accounts;</li>
<li>import the entire account hierarchy from management accounts;</li>
<li>import the ad account objects: campaigns, ad groups, ads, and more;</li>
<li>import statistical data from advertising accounts;</li>
<li>import resource metadata, resource fields, segments, and metrics;</li>
<li>import forecast and historical data from the keyword planner.</li>
</ul>
</div>
<div id="rgoogleads-package-benefits" class="section level1">
<h1 class="hasAnchor">
<a href="#rgoogleads-package-benefits" class="anchor"></a>rgoogleads package benefits</h1>
<p>Now let’s look at the benefits of switching to the new rgoogleads package:</p>
<ul>
<li>
<code>rgoogleads</code> is used to work with Google Ads API v8 (released on 09.06.2021); <code>RAdwords</code> is used to work with Google AdWords API v201809. Google AdWords API will sunset on 27.04.2022;</li>
<li>
<code>rgoogleads</code> uses the gargle package for authorization, which gives much more flexibility than the <code>RAdwords</code> authorization process;</li>
<li>
<code>rgoogleads</code> has an embedded Google Ads developer token and an OAuth client for authorization. This will save most users from having to request basic access to the Google Ads API from Google support and wasting time creating a project and OAuth client in the Google Cloud Console;</li>
<li>most <code>rgoogleads</code> functions have a cl argument, which allows for multi-threaded data import;</li>
<li>unlike <code>RAdwords</code>, <code>rgoogleads</code> has a list and account hierarchy import function;</li>
<li>
<code>rgoogleads</code> has separate functions to import the main objects of the advertising accounts, such as advertising campaigns, ad groups, keywords, and ads;</li>
<li>since data request is not divided into separate functions, the syntax of <code>rgoogleads</code> is more straightforward and concise. In <code>RAdwords</code>, you had to initially create <code><a href="https://rdrr.io/pkg/RAdwords/man/statement.html">statement()</a></code> function and then use it to request the data in the <code><a href="https://rdrr.io/pkg/RAdwords/man/getData.html">getData()</a></code> function;</li>
<li>
<code>rgoogleads</code> has no problem importing names containing Cyrillic characters;</li>
<li>if the API request encounters a server failure (response status 429 or higher), the <code>rgoogleads</code> package will automatically pause for 100 seconds and try to request data again. This makes this package more stable and resilient to Google Ads API server failures;</li>
<li>
<code>rgoogleads</code> displays a detailed error message. In comparison, <code>RAdwords</code> will not display a message if the user has made a request error;</li>
<li>
<code>rgoogleads</code> allows you to request data from the Keyword Planner.</li>
</ul>
</div>
<div id="key-differences-between-the-google-adwords-api-and-google-ads-api" class="section level1">
<h1 class="hasAnchor">
<a href="#key-differences-between-the-google-adwords-api-and-google-ads-api" class="anchor"></a>Key differences between the Google AdWords API and Google Ads API</h1>
<p>Fortunately, there are few key differences between the old and new APIs, and the migration process isn’t that difficult. Let me enumerate the key points of the migration below.</p>
<ul>
<li>no need to change auto-ionization data; the developer token, ID, and client secret OAuth can also be used for a new Google Ads API;</li>
<li>The AdWords API reporting is a separate service, while Google Ads API reporting is part of the same service. All you need to do is include the necessary metrics fields in your reports;</li>
<li>In AdWords API, there were report types such as CAMPAINGN_PERFORMANCE_REPORT. The Google Ads API doesn’t have them; instead of report types, it consists of a vast number of resources;</li>
<li>AdWords API and Google Ads API have different API response formats;</li>
<li>there is no includeZeroImpressions parameter in Google Ads API; instead, you can use the metrics.impressions &gt; 0 filter.</li>
</ul>
</div>
<div id="migrating-from-radwords-to-rgoogleads" class="section level1">
<h1 class="hasAnchor">
<a href="#migrating-from-radwords-to-rgoogleads" class="anchor"></a>Migrating from <code>RAdwords</code> to <code>rgoogleads</code>
</h1>
<div id="htmlwidget-2939f7bb73ea48865694" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-2939f7bb73ea48865694">{"x":{"filter":"none","vertical":false,"data":[["1","2","3"],["Authorization","Metadata request","Report request"],["doAuth()","reports(), metrics()","statement() + getData()"],["gads_auth_configure() + gads_auth()","gads_get_metadata(), gads_get_fields()","gads_get_report()"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Operation<\/th>\n      <th>RAdwords<\/th>\n      <th>rgoogleads<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"tip","order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}],"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script><p>The former report types in Google AdWords have become resources in Google Ads. See the comparison table from the official <a href="https://developers.google.com/google-ads/api/docs/migration/mapping">help guide</a>:</p>
<div id="htmlwidget-06b87aeaaaab8ef4489e" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-06b87aeaaaab8ef4489e">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36"],["ACCOUNT_PERFORMANCE_REPORT","AD_PERFORMANCE_REPORT","ADGROUP_PERFORMANCE_REPORT","AGE_RANGE_PERFORMANCE_REPORT","AUDIENCE_PERFORMANCE_REPORT","AUTOMATIC_PLACEMENTS_PERFORMANCE_REPORT","BID_GOAL_PERFORMANCE_REPORT","BUDGET_PERFORMANCE_REPORT","CALL_METRICS_CALL_DETAILS_REPORT","CAMPAIGN_AD_SCHEDULE_TARGET_REPORT","CAMPAIGN_CRITERIA_REPORT","CAMPAIGN_PERFORMANCE_REPORT","CAMPAIGN_SHARED_SET_REPORT","CAMPAIGN_LOCATION_TARGET_REPORT","CLICK_PERFORMANCE_REPORT","DISPLAY_KEYWORD_PERFORMANCE_REPORT","DISPLAY_TOPICS_PERFORMANCE_REPORT","GENDER_PERFORMANCE_REPORT","GEO_PERFORMANCE_REPORT","KEYWORDLESS_QUERY_REPORT","KEYWORDS_PERFORMANCE_REPORT","LABEL_REPORT","LANDING_PAGE_REPORT","PAID_ORGANIC_QUERY_REPORT","PARENTAL_STATUS_PERFORMANCE_REPORT","PLACEHOLDER_FEED_ITEM_REPORT","PLACEHOLDER_REPORT","PLACEMENT_PERFORMANCE_REPORT","PRODUCT_PARTITION_REPORT","SEARCH_QUERY_PERFORMANCE_REPORT","SHARED_SET_CRITERIA_REPORT","SHARED_SET_REPORT","SHOPPING_PERFORMANCE_REPORT","URL_PERFORMANCE_REPORT","USER_AD_DISTANCE_REPORT","VIDEO_PERFORMANCE_REPORT"],["customer","ad_group_ad","ad_group","age_range_view","campaign_audience_view,ad_group_audience_view","group_placement_view","bidding_strategy","campaign_budget","call_view","ad_schedule_view","campaign_criterion","campaign","campaign_shared_set","location_view","click_view","display_keyword_view","topic_view","gender_view","geographic_view,user_location_view","dynamic_search_ads_search_term_view","keyword_view","label","landing_page_view,expanded_landing_page_view","paid_organic_search_term_view","parental_status_view","feed_item,feed_item_target","feed_placeholder_view","managed_placement_view","product_group_view","search_term_view","shared_criterion","shared_set","shopping_performance_view","detail_placement_view","distance_view","video"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Тип отчёта в Google AdWords API<\/th>\n      <th>Ресурс в Google Ads API<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}],"lengthMenu":[10,20,25,50,100]}},"evals":[],"jsHooks":[]}</script><p>See the <a href="https://developers.google.com/google-ads/api/docs/migration/mapping#field_mappings_for_reports">official help</a> guide for the correspondence between the “Report” and the resource fields. The table is large, so there’s no need to duplicate it here.</p>
<p>See the example of requesting a campaign performance report with the same set of fields, using the <code>RAdwords</code> package and <code>rgoogleads</code> below.</p>
<div id="the-request-of-ad-campaign-performance-report-using-radwords" class="section level2">
<h2 class="hasAnchor">
<a href="#the-request-of-ad-campaign-performance-report-using-radwords" class="anchor"></a>The request of ad campaign performance report using RAdwords</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jburkhardt/RAdwords">RAdwords</a></span><span class="op">)</span>

<span class="co"># auth</span>
<span class="va">adwords_auth</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/RAdwords/man/doAuth.html">doAuth</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># create request</span>
<span class="va">query</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/RAdwords/man/statement.html">statement</a></span><span class="op">(</span>
  select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'CampaignName'</span>,
            <span class="st">'Date'</span>,
            <span class="st">'Clicks'</span><span class="op">)</span>,
  report <span class="op">=</span> <span class="st">'CAMPAIGN_PERFORMANCE_REPORT'</span>,
  start  <span class="op">=</span> <span class="st">'2021-06-01'</span>,
  end    <span class="op">=</span> <span class="st">'2021-06-30'</span>
<span class="op">)</span>

<span class="co"># data import</span>
<span class="va">data1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/RAdwords/man/getData.html">getData</a></span><span class="op">(</span>
  clientCustomerId <span class="op">=</span> <span class="st">'xxx-xxx-xxxx'</span>,
  statement        <span class="op">=</span> <span class="va">query</span>, 
  google_auth      <span class="op">=</span> <span class="va">adwords_auth</span>
<span class="op">)</span></code></pre></div>
</div>
<div id="the-request-of-ad-campaign-performance-report-using-rgoogleads" class="section level2">
<h2 class="hasAnchor">
<a href="#the-request-of-ad-campaign-performance-report-using-rgoogleads" class="anchor"></a>The request of ad campaign performance report using rgoogleads</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://selesnow.github.io/rgoogleads/">rgoogleads</a></span><span class="op">)</span>

<span class="co"># auth</span>
<span class="fu"><a href="../reference/gads_auth_configure.html">gads_auth_configure</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">'D:/ga_auth/app.json'</span><span class="op">)</span>
<span class="fu"><a href="../reference/gads_auth.html">gads_auth</a></span><span class="op">(</span>email <span class="op">=</span> <span class="st">'me@gmail.com'</span><span class="op">)</span>

<span class="co"># data import</span>
<span class="va">data2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gads_get_report.html">gads_get_report</a></span><span class="op">(</span>
  resource <span class="op">=</span> <span class="st">'campaign'</span>,
  fields   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'campaign.name'</span>,
              <span class="st">'segments.date'</span>,
              <span class="st">'metrics.clicks'</span><span class="op">)</span>,
  date_from         <span class="op">=</span> <span class="st">'2021-06-01'</span>,
  date_to           <span class="op">=</span> <span class="st">'2021-06-30'</span>,
  customer_id       <span class="op">=</span> <span class="st">'xxx-xxx-xxxx'</span>,
  login_customer_id <span class="op">=</span> <span class="st">'xxx-xxx-xxxx'</span>
<span class="op">)</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Alexey Seleznev.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
